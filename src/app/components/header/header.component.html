<header>
    <div class="navbar bg-base-300 shadow-sm justify-between">
        <!-- Logo -->
        <div class="flex-none">
            <a routerLink="" class="logo">
                <img src="assets/img/logo-333.png" alt="ErCaliente Logo">
                <h1><span class="word">Er</span><span class="quote text-base-content">'</span>Caliente</h1>
            </a>
        </div>
        <!-- End Logo -->

        <!-- Links & Misc-->
        <div class="flex-none right-container">
            <!-- Links -->
            <ul class="menu menu-horizontal p-0">
                <li><a routerLink="menu"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="w-5 h-5" viewBox="0 0 256 256" xml:space="preserve">
                            <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                                <path d="M 45 32.055 c 0.552 0 1 -0.448 1 -1 v -1.478 c 0 -0.552 -0.448 -1 -1 -1 s -1 0.448 -1 1 v 1.478 C 44 31.607 44.448 32.055 45 32.055 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: currentColor; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                                <path d="M 18.081 32.055 c 0.552 0 1 -0.448 1 -1 v -1.478 c 0 -0.552 -0.448 -1 -1 -1 s -1 0.448 -1 1 v 1.478 C 17.081 31.607 17.528 32.055 18.081 32.055 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: currentColor; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                                <path d="M 71.92 32.055 c 0.553 0 1 -0.448 1 -1 v -1.478 c 0 -0.552 -0.447 -1 -1 -1 s -1 0.448 -1 1 v 1.478 C 70.92 31.607 71.367 32.055 71.92 32.055 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: currentColor; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                                <path d="M 31.54 23.979 c 0.552 0 1 -0.448 1 -1 v -1.478 c 0 -0.552 -0.448 -1 -1 -1 s -1 0.448 -1 1 v 1.478 C 30.54 23.532 30.988 23.979 31.54 23.979 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: currentColor; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                                <path d="M 58.46 23.979 c 0.553 0 1 -0.448 1 -1 v -1.478 c 0 -0.552 -0.447 -1 -1 -1 s -1 0.448 -1 1 v 1.478 C 57.46 23.532 57.907 23.979 58.46 23.979 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: currentColor; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                                <path d="M 90 43.461 c 0 -2.709 -1.966 -4.964 -4.546 -5.423 C 84.854 17.578 64.213 8.239 45 8.239 c -19.213 0 -39.854 9.339 -40.454 29.799 C 1.967 38.498 0 40.752 0 43.461 c 0 2.7 1.952 4.949 4.518 5.419 v 13.391 c 0 0.127 0.029 0.245 0.072 0.357 c -0.043 0.111 -0.072 0.23 -0.072 0.357 c 0 10.354 8.423 18.776 18.776 18.776 h 43.412 c 10.354 0 18.776 -8.423 18.776 -18.776 c 0 -0.127 -0.029 -0.245 -0.072 -0.357 c 0.043 -0.111 0.072 -0.23 0.072 -0.357 V 48.881 C 88.048 48.41 90 46.161 90 43.461 z M 45 10.239 c 18.215 0 37.782 8.685 38.45 27.709 H 6.55 C 7.218 18.924 26.785 10.239 45 10.239 z M 10.979 48.976 c 3.806 0 7.393 1.476 10.098 4.155 c 3.081 3.052 7.167 4.732 11.505 4.732 h 1.808 c 4.338 0 8.424 -1.681 11.505 -4.732 c 2.705 -2.68 6.292 -4.155 10.098 -4.155 h 27.49 v 5.433 c -3.255 2.178 -6.432 2.09 -9.693 -0.28 c -4.132 -3.003 -8.322 -3.004 -12.456 0 c -3.402 2.47 -6.706 2.468 -10.104 0 c -0.447 -0.327 -1.073 -0.227 -1.396 0.221 c -0.325 0.447 -0.226 1.072 0.221 1.396 c 2.066 1.502 4.147 2.252 6.229 2.252 c 2.08 0 4.161 -0.75 6.228 -2.252 c 3.4 -2.47 6.706 -2.47 10.104 0.001 c 3.604 2.616 7.253 2.949 10.869 1.002 v 5.236 H 6.518 v -5.236 c 1.543 0.832 3.092 1.249 4.64 1.249 c 2.081 0 4.162 -0.75 6.228 -2.252 c 0.447 -0.324 0.546 -0.949 0.221 -1.396 c -0.325 -0.446 -0.949 -0.546 -1.397 -0.221 c -3.262 2.369 -6.438 2.458 -9.692 0.281 v -5.434 H 10.979 z M 66.706 79.762 H 23.294 c -8.915 0 -16.227 -6.99 -16.747 -15.776 h 76.906 C 82.934 72.771 75.621 79.762 66.706 79.762 z M 84.486 46.976 H 55.992 c -4.337 0 -8.423 1.682 -11.505 4.733 c -2.705 2.679 -6.291 4.154 -10.098 4.154 h -1.808 c -3.807 0 -7.393 -1.476 -10.098 -4.154 c -3.083 -3.052 -7.168 -4.733 -11.505 -4.733 H 5.514 C 3.577 46.976 2 45.399 2 43.461 s 1.577 -3.514 3.514 -3.514 h 78.972 c 1.938 0 3.514 1.576 3.514 3.514 S 86.424 46.976 84.486 46.976 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: currentColor; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                            </g>
                        </svg></a></li>
            </ul>

            <!-- Market cart -->
             @if (user) {
                <div class="dropdown dropdown-end">
                    <div tabindex="0" role="button" class="btn btn-ghost btn-circle">
                        <div class="indicator">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /> </svg>
                            @if (itemsCounter > 0) {
                                <span class="badge badge-sm indicator-item btn-circle border border-base-content">{{ itemsCounter }}</span>
                            }
                        </div>
                    </div>
                    <div tabindex="0" class="card card-compact dropdown-content bg-base-100 z-1 mt-3 w-52 shadow border border-base-content">
                        <div class="card-body">
                            <span class="text-lg font-bold">{{ itemsCounter }} {{'others.orders' | translate}}</span>
                            <span class="text-info">{{'others.subtotal' | translate}}: &euro; {{ itemsSubtotal }}</span>
                            <div class="card-actions">
                                <button routerLink="cart" class="btn btn-primary btn-block">{{'buttons.cart' | translate}}</button>
                            </div>
                        </div>
                    </div>
                </div>
             }
            
            <!-- Theme switcher -->
            <label class="toggle text-base-content">
                <input type="checkbox" [value]="theme" class="theme-controller" (click)="toggleTheme()" />
                <svg aria-label="sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g stroke-linejoin="round" stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></g></svg>
                <svg aria-label="moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g stroke-linejoin="round" stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></g></svg>
            </label>
            <!-- Profile -->
            @if (!user) {
                <app-login (islogin)="recibe_login($event)"></app-login>
            }
            @else {
                <div class="dropdown dropdown-end">
                    <div tabindex="0" role="button" class="ml-2 btn btn-ghost btn-circle avatar border border-base-content">
                        <div class="w-8 rounded-full">
                        <img
                            alt="Tailwind CSS Navbar component"
                            priority
                            width="14"
                            height="14"
                            [ngSrc]="appwrite.getInitials( user.firstName )" />
                        </div>
                    </div>
                    <ul
                        tabindex="0"
                        class="menu menu-sm dropdown-content bg-base-100 rounded-box z-1 mt-3 w-52 p-2 shadow border border-base-content">
                        <li><a routerLink="profile">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                            </svg>
                            <span>{{'buttons.profile' | translate}}</span>
                        </a></li>
                        <li><a routerLink="setting">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 0 1 1.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.559.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 0 1-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.398.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 0 1-.12-1.45l.527-.737c.25-.35.272-.806.108-1.204-.165-.397-.506-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125 1.125 0 0 1 .12-1.45l.773-.773a1.125 1.125 0 0 1 1.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894Z" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                            </svg>
                            <span>{{'buttons.settings' | translate}}</span>
                        </a></li>
                        @if (user.role >= 2) {
                            <li><a routerLink="admin">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" />
                                </svg>
                                <span>{{'buttons.admin' | translate}}</span>
                            </a></li>
                        }
                        <li><a>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M22 10.5h-6m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM4 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 10.374 21c-2.331 0-4.512-.645-6.374-1.766Z" />
                            </svg>
                            <span (click)="logOut()">{{'buttons.logout' | translate}}</span>
                        </a></li>
                    </ul>
                </div>
            }
        </div>
        <!-- End Links & Misc -->
    </div>
</header>