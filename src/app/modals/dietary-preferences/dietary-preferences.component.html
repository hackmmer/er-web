<div class="modal" [class.modal-open]="isOpen">
  <div class="modal-box max-w-3xl">
    <h3 class="font-bold text-2xl mb-6 text-center text-secondary">
      Preferencias Diet√©ticas
    </h3>
    
    <div class="grid grid-cols-2 md:grid-cols-3 gap-3 max-h-96 overflow-y-auto py-2">
      @for (preference of allPreferences; track preference) {
        <div 
          class="flex items-center gap-2 p-3 rounded-lg cursor-pointer transition-all duration-200"
          [class.border.border-primary]="isSelected(preference)"
          [class.bg-base-200]="!isSelected(preference)"
          (click)="togglePreference(preference)">
          
          <input 
            type="checkbox" 
            class="checkbox checkbox-primary" 
            [checked]="isSelected(preference)">
          
          <span class="font-medium">{{ preference }}</span>
        </div>
      }
    </div>
    
    <div class="modal-action mt-6">
      <button class="btn btn-ghost" (click)="closeModal()">Cancelar</button>
      <button class="btn btn-secondary btn-outline" (click)="onSave()">Guardar Cambios</button>
    </div>
  </div>
</div>